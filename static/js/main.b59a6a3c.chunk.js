(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,n,t){},138:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"ArrowRight",function(){return w}),t.d(r,"ArrowLeft",function(){return x}),t.d(r,"Update",function(){return E});var a=t(0),i=t.n(a),o=t(46),c=t.n(o),u=t(5),l=(t(72),t(3)),s=t(7),d=function(e,n){var t=e-.5+Math.random()*(n-e+1);return t=Math.round(t)},f=function(e){for(var n={},t=0;t<e.length;t+=1)for(var r=0;r<e[t].length;r+=1)0===e[t][r]&&(n={nullLine:t,nullColumn:r});return n},m=function(e,n,t){var r=!0,a=!0,i=!0,o=!0,c=Math.abs(n-t[0]),u=Math.abs(e-t[1]);0===e&&(i=!1),0===n&&(r=!1),0===u&&(o=!1),0===c&&(a=!1),0===e&&0===n&&(i=!1,r=!1),0===c&&0===u&&(o=!1,a=!1),0===e&&0===c&&(i=!1,a=!1),0===n&&0===u&&(o=!1,r=!1);var l=["right","top","bottom","left"],s=[{top:i},{right:a},{bottom:o},{left:r}].map(function(e){var n=null;return l.forEach(function(t){e[t]&&(n=t)}),n}).filter(function(e){return null!==e}),f=s[d(0,s.length-1)];return"top"===f?[e-1,n]:"right"===f?[e,n+1]:"left"===f?[e,n-1]:"bottom"===f?[e+1,n]:[]},h=function(e,n){for(var t=Object(s.a)(e),r=d(150,200),a=0;a<r;a+=1){var i=f(e),o=i.nullLine,c=i.nullColumn,u=m(o,c,n),h=Object(l.a)(u,2),p=h[0],v=h[1],b=e[o][c];t[o][c]=e[p][v],t[p][v]=b}return t},p=function(e){var n,t,r=Object(a.useState)({moveDirection:""}),i=Object(l.a)(r,2),o=i[0],c=i[1],u=function(e){n=e.touches[0].clientX,t=e.touches[0].clientY},s=function(e){var r=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,i=r-n,o=a-t,u=Math.abs(i),l=Math.abs(o);if(Math.max(u,l)>10){c({moveDirection:u>l?i>0?"right":"left":o>0?"bottom":"top"})}},d=function(e){var n="";switch(e.keyCode){case 38:case 87:n="top";break;case 40:case 83:n="bottom";break;case 37:case 65:n="left";break;case 39:case 68:n="right";break;default:n=""}c({moveDirection:n})};Object(a.useEffect)(function(){return window.addEventListener("touchstart",u),window.addEventListener("touchend",s),window.addEventListener("keydown",d),function(){return window.removeEventListener("touchstart",u),window.removeEventListener("touchend",s),void window.removeEventListener("keydown",d)}}),Object(a.useEffect)(function(){e(o.moveDirection)},[o])},v=function(e){return function(n){var t=n.move;return p(t),i.a.createElement(e,n)}},b=t(1),g=t(2),w=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22.876",height:"28.629",viewBox:"0 0 22.876 28.629"},i.a.createElement("path",{id:"Path_1507","data-name":"Path 1507",d:"M194.827,132.3c-.669.835-.841,25.783.42,28.089s21.727-10.1,21.937-14.506S196.509,130.2,194.827,132.3Z",transform:"translate(-194.311 -132.039)",fill:"#eed8a6"}))},x=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22.843",height:"28.66",viewBox:"0 0 22.843 28.66"},i.a.createElement("path",{id:"Path_1507","data-name":"Path 1507",d:"M216.637,132.3c.668.836.839,25.811-.42,28.12s-21.7-10.116-21.905-14.522S214.958,130.2,216.637,132.3Z",transform:"translate(-194.311 -132.039)",fill:"#eed8a6"}))},E=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39.476",height:"38.389",viewBox:"0 0 39.476 38.389"},i.a.createElement("g",{id:"Group_11668","data-name":"Group 11668",transform:"translate(-568.374 -485.362)"},i.a.createElement("g",{id:"Group_4877","data-name":"Group 4877",transform:"translate(568.374 485.362)"},i.a.createElement("path",{id:"Path_1507","data-name":"Path 1507",d:"M10.265.118c.307.384.386,11.868-.193,12.929S.1,8.4,0,6.37,9.494-.846,10.265.118Z",transform:"matrix(0.788, -0.616, 0.616, 0.788, 0, 11.189)",fill:"#eed8a6"}),i.a.createElement("path",{id:"Path_112289","data-name":"Path 112289",d:"M.015,5.516C-.3,5.8,4.566,7.78,5.068,14.3c.31,5.917-3.685,9.029-3.448,9.562.475,1.069,5.989,4.076,6.583,3.363a23.762,23.762,0,0,0,3.976-7.95,19.33,19.33,0,0,0-1.03-11.769C9.479,3.23,5.316.575,5.024.137,4.311-.932,1.084,4.566.015,5.516Z",transform:"translate(7.766 12.11) rotate(-73)",fill:"#eed8a6"})),i.a.createElement("g",{id:"Group_4878","data-name":"Group 4878",transform:"translate(570.242 502.178)"},i.a.createElement("path",{id:"Path_1507-2","data-name":"Path 1507",d:"M10.265.118c.307.384.386,11.868-.193,12.929S.1,8.4,0,6.37,9.494-.846,10.265.118Z",transform:"matrix(-0.788, 0.616, -0.616, -0.788, 37.608, 10.384)",fill:"#eed8a6"}),i.a.createElement("path",{id:"Path_112289-2","data-name":"Path 112289",d:"M.015,5.516C-.3,5.8,4.566,7.78,5.068,14.3c.31,5.917-3.685,9.029-3.448,9.562.475,1.069,5.989,4.076,6.583,3.363a23.762,23.762,0,0,0,3.976-7.95,19.331,19.331,0,0,0-1.03-11.769C9.479,3.23,5.316.575,5.024.137,4.311-.932,1.084,4.566.015,5.516Z",transform:"translate(29.842 9.464) rotate(107)",fill:"#eed8a6"}))))},O=t(49),j=t.n(O);function k(){var e=Object(b.a)(["\n  background-image: url(",");\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background-size: contain;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-right: 5px;\n  margin-left: 5px;\n"]);return k=function(){return e},e}var z=g.a.div(k(),j.a),y=function(e){var n=e.onClick,t=e.name;return i.a.createElement(z,{onClick:n},Object(a.createElement)(r[t]))};function S(){var e=Object(b.a)(["\n  display: flex;\n"]);return S=function(){return e},e}var _=g.a.div(S()),M=function(e){var n=e.newGame,t=e.prevStep,r=e.nextStep;return i.a.createElement(_,null,i.a.createElement(y,{onClick:n,name:"Update"}),i.a.createElement(y,{onClick:t,name:"ArrowLeft"}),i.a.createElement(y,{onClick:r,name:"ArrowRight"}))},L=function(e,n){var t=e.lineM,r=e.columnM,a=n.lineN,i=n.columnN;return t===a+1&&r===i?"top":t===a-1&&r===i?"bottom":t===a&&r===i-1?"right":t===a&&r===i+1?"left":""},C=t(12),P=t(59),G=t(53),N=t.n(G);function T(){var e=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Coming Soon', sans-serif;\n  font-size: 35px;\n  line-height: 35px;\n  z-index: 1;\n  border-radius: 5px;\n  width: 100%;\n  height: 100%;\n  background-image: url(",");\n  background-size: contain;\n  background-repeat: no-repeat;\n\n  @media (max-width: 400px) {\n    font-size: 30px;\n    line-height: 30px;\n  }\n"]);return T=function(){return e},e}function W(){var e=Object(b.a)(["\n  position: absolute;\n  z-index: 1;\n  background: #fff;\n  border-radius: 10px;\n  padding: 5px;\n  background: transparent;\n  cursor: pointer;\n  width: calc((100%) / 4);\n  height: calc((100%) / 4);\n"]);return W=function(){return e},e}var A=Object(g.a)(P.a.div)(W()),D=g.a.div(T(),N.a),R=Object(a.memo)(function(e){var n=e.x,t=e.y,r=e.number,a=e.line,o=e.column,c=e.move;return 0===r?null:i.a.createElement(A,{animate:{x:n,y:t},transition:{type:"tween"},onClick:function(){return c(a,o)}},i.a.createElement(D,{key:r},r))}),X=Object(C.a)(function(e,n,t,r){return{x:e*(n/e)*(r%4),y:e*(t/e)*Math.floor(r/4)}}),U=Object(a.memo)(function(e){var n=e.matrix,t=e.width,r=e.height,o=e.boardSize,c=e.move;return Object(a.useMemo)(function(){var e=[];return n.forEach(function(n,t){n.forEach(function(n,r){var a={number:n,line:t,column:r};e.push(a)})}),e},[n]).map(function(e,n){var a=X(o,t,r,n);return i.a.createElement(R,{x:a.x,y:a.y,number:e.number,line:e.line,column:e.column,move:c,key:e.number})})}),B=t(54),I=t.n(B),V=(t(60),t(55)),Z=t.n(V);function F(){var e=Object(b.a)(["\n  position: relative;\n  font-size: 30px;\n  padding: 20px 40px;\n  z-index: 100;\n  border-radius: 10px;\n  background: #fff;\n  max-width: 80%;\n"]);return F=function(){return e},e}function J(){var e=Object(b.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 15px;\n  height: 15px;\n  background: url(",");\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center center;\n  cursor: pointer;\n  max-width: 80%;\n"]);return J=function(){return e},e}function Y(){var e=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 20;\n  height: 100vh;\n  width: 100%;\n"]);return Y=function(){return e},e}g.a.div(Y()),g.a.div(J(),Z.a),g.a.div(F());var $=[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,0]],q=Object(u.b)(function(e){return{matrix:e.game.matrix,isStarted:e.game.isStarted,counter:e.game.counter}},null)(function(e){var n=e.matrix,t=(e.isStarted,e.newGame),r=e.counter,o=Object(a.useState)(!1),c=Object(l.a)(o,2),u=c[0],s=c[1];return Object(a.useEffect)(function(){return t(),t()},[]),Object(a.useEffect)(function(){s(I()(n,$))},[n]),Object(a.useEffect)(function(){window.parent.postMessage({status:"started",numberOfAttempts:r},"*")},[r]),Object(a.useEffect)(function(){u&&window.parent.postMessage({status:"finished",numberOfAttempts:r},"*")},[u]),Object(a.useEffect)(function(){window.addEventListener("message",function(e){"NEW_GAME"===e.data.type&&t()})},[]),i.a.createElement(a.Fragment,null)}),H=t(56),K=t.n(H),Q=t(57),ee=t.n(Q);function ne(){var e=Object(b.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  touch-action: none;\n"]);return ne=function(){return e},e}function te(){var e=Object(b.a)(["\n  position: relative;\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  overflow-y: hidden;\n  flex-direction: column;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center center;\n  align-items: center;\n\n  @media (max-height: 500px) {\n    flex-direction: row;\n  }\n"]);return te=function(){return e},e}function re(){var e=Object(b.a)(["\n  position: relative;\n  width: 400px;\n  height: 400px;\n  padding: 25px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center center;\n  margin-bottom: 20px;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    max-width: 300px;\n    width: 100%;\n    max-height: 300px;\n    height: 100%;\n    padding: 20px;\n    background-position: center center;\n  }\n\n  @media (max-height: 500px) {\n    margin-bottom: 0;\n  }\n"]);return re=function(){return e},e}var ae=g.a.div(re(),K.a),ie=g.a.div(te(),ee.a),oe=g.a.div(ne());function ce(){var e=Object(b.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 30px;\n  background: #000;\n  color: #fff;\n  cursor: pointer;\n"]);return ce=function(){return e},e}var ue=g.a.div(ce()),le=function(e){var n=e.numbers,t=e.move,r=e.prev,o=e.next,c=e.startNewGame,u=e.isStarted,s=e.direction,d=Object(a.useRef)(null),m=Object(a.useState)({width:0,height:0,boardSize:0}),h=Object(l.a)(m,2),p=h[0],v=h[1];Object(a.useEffect)(function(){var e=function(){var e=d.current;if(e&&e.clientWidth){var n=e.clientWidth/4;v({boardSize:e.clientWidth,width:n,height:n})}};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]);var b=Object(a.useCallback)(function(e,r){var a=f(n),i=a.nullLine,o=a.nullColumn;t(L({lineM:e,columnM:r},{lineN:i,columnN:o}))},[]),g=p.boardSize,w=p.width,x=p.height;return i.a.createElement(ie,{tabIndex:"0"},i.a.createElement(ae,{size:g},i.a.createElement(oe,{ref:d},u?i.a.createElement(a.Fragment,null,w&&x&&g&&i.a.createElement(U,{width:w,height:x,boardSize:g,matrix:n,move:b,direction:s})):i.a.createElement(ue,{onClick:c},"New Game"))),i.a.createElement(M,{newGame:c,prevStep:r,nextStep:o}),i.a.createElement(q,{newGame:c}))},se=Object(u.b)(function(e){var n=e.game;return{counter:n.counter,steps:n.steps,isStarted:n.isStarted}},function(e,n){return{move:function(n){n&&e(function(e){return{type:"MOVE_TILE",payload:e}}(n))},startNewGame:function(){return e({type:"NEW_GAME",payload:h(n.numbers,n.size)})},next:function(){return e({type:"NEXT_STEP"})},prev:function(){return e({type:"PREV_STEP"})}}})(v(le)),de=(t(137),Object(u.b)(function(e){return{numbers:e.game.matrix,size:e.game.size}})(function(e){return i.a.createElement(se,e)})),fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?n&&n.onUpdate&&n.onUpdate(e):n&&n.onSuccess&&n.onSuccess(e))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var he=t(9),pe=t(13),ve=t(58),be=t.n(ve),ge=t(11),we=function(e,n){var t=n.nullLine,r=n.nullColumn;switch(e){case"top":return[t+1,r];case"bottom":return[t-1,r];case"left":return[t,r+1];case"right":return[t,r-1];default:return[t,r]}},xe=function(e,n,t){var r=n.nullLine,a=n.nullColumn,i=t.line,o=t.column,c=Object(s.a)(e),u=Math.abs(o-a),l=Math.abs(i-r);if(i===r&&1===u||o===a&&1===l){var d=c[r][a];c[r][a]=c[i][o],c[i][o]=d}return c},Ee=Object(ge.read_cookie)("puzzle15"),Oe=be()(Ee)?{matrix:h($.map(function(e){return Object(s.a)(e)}),[3,3]),isStarted:!1,steps:[],size:[3,3],index:0,counter:0}:Ee,je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"MOVE_TILE":var t=n.payload,r=e.index,a=e.counter,i=e.matrix,o=e.steps,c=e.size,u=f(i),d=we(t,u),m=Object(l.a)(d,2),h=m[0],p=m[1];if(h<0||p<0||h>c[0]||p>c[1])return e;var v=xe(i,u,{line:h,column:p}),b=Object(pe.a)({},e,{matrix:v,counter:a+1,index:r+1,steps:[].concat(Object(s.a)(o),[{line:h,column:p}])});return console.log("movetile"),Object(ge.bake_cookie)("puzzle15",b),b;case"NEW_GAME":var g=e.matrix,w=n.payload,x=f(g),E=x.nullLine,O=x.nullColumn,j=Object(pe.a)({},e,{matrix:Object(s.a)(w),counter:0,isStarted:!0,index:0,steps:[{line:E,column:O}]});return Object(ge.delete_cookie)("puzzle15"),j;case"NEXT_STEP":var k=e.index,z=e.steps,y=e.matrix,S=z.length>0?z.length-1:0,_=k<S?k+1:S,M=f(y),L=z[_],C=xe(y,M,L),P=Object(pe.a)({},e,{matrix:C,index:k<z.length-1?k+1:z.length-1});return Object(ge.bake_cookie)("puzzle15",P),P;case"PREV_STEP":var G=e.index,N=e.steps,T=e.matrix,W=G>0?G-1:0,A=N[W],D=f(T),R=xe(T,D,A),X=Object(pe.a)({},e,{matrix:R,index:W});return Object(ge.bake_cookie)("puzzle15",X),X;default:return e}},ke=Object(he.b)({game:je}),ze=Object(he.c)(ke,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ye=document.getElementById("root");if(!ye)throw new Error("#app element does not exist");c.a.render(i.a.createElement(u.a,{store:ze},i.a.createElement(de,null)),ye),function(e){if("serviceWorker"in navigator){if(new URL("/puzzle15",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/puzzle15","/service-worker.js");fe?(function(e,n){fetch(e).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):me(e,n)}).catch(function(){})}(n,e),navigator.serviceWorker.ready.then(function(){})):me(n,e)})}}()},49:function(e,n,t){e.exports=t.p+"static/media/button.9203b416.svg"},53:function(e,n,t){e.exports=t.p+"static/media/numberBackground.d63d02fd.svg"},55:function(e,n,t){e.exports=t.p+"static/media/close.885ded44.svg"},56:function(e,n,t){e.exports=t.p+"static/media/board.0df52569.svg"},57:function(e,n,t){e.exports=t.p+"static/media/gamebackground.8378e863.jpg"},62:function(e,n,t){e.exports=t(138)},72:function(e,n,t){}},[[62,1,2]]]);
//# sourceMappingURL=main.b59a6a3c.chunk.js.map